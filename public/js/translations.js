const translations = {
  en: {
    'dashboard': 'Dashboard',
    'overview': 'Overview',
    'roadmap': 'Roadmap',
    'quick-links': 'Quick Links',
    'calendar': 'Calendar',
    'sections': 'Sections',
    'students': 'Students',
    'access-settings': 'Access Settings',
    'collaborators': 'Collaborators',
    'program-info': 'Program Info',
    'logout': 'Logout',
    'bootcamp-manager': 'Bootcamp Manager',
    'promotions': 'Promotions',
    'new-promotion': 'New Promotion',
    'no-promotions': 'No promotions yet. Create one to get started!',
    'teacher-name-label': 'Teacher Name',
    'bootcamp-template': 'Bootcamp Template (Optional)',
    'select-template': '-- Select a template to start --',
    'ia-bootcamp': 'IA School Bootcamp (39 weeks)',
    'fullstack-bootcamp': 'Full Stack Bootcamp (24 weeks)',
    'cybersecurity-bootcamp': 'Cyber Security Bootcamp (20 weeks)',
    'datascience-bootcamp': 'Data Science Bootcamp (30 weeks)',
    'frontend-bootcamp': 'Frontend Bootcamp (16 weeks)',
    'backend-bootcamp': 'Backend Bootcamp (20 weeks)',
    'template-help': 'Selecting a template will auto-fill the weeks. You can still customize it.',
    'promotion-name': 'Promotion Name',
    'description': 'Description',
    'number-of-weeks': 'Number of Weeks',
    'start-date': 'Start Date',
    'end-date': 'End Date',
    'cancel': 'Cancel',
    'create-promotion': 'Create Promotion',
    'program-information': 'Program Information',
    'duration': 'Duration',
    'statistics': 'Statistics',
    'modules': 'Modules',
    'weeks': 'weeks',
    'preview': 'Preview',
    'add-module': 'Add Module',
    'add-link': 'Add Link',
    'add-section': 'Add Section',
    'add-student': 'Add Student',
    'add-teacher': 'Add Teacher',
    'student-access-password': 'Student Access Password',
    'password-description': 'Set a password that students must enter to access this promotion.',
    'access-password-label': 'Access Password',
    'password-help': 'Leave empty to remove password protection',
    'update-password': 'Update Password',
    'share-with-students': 'Share with Students',
    'share-description': 'Once a password is set, students can access the promotion using this link:',
    'copy-link': 'Copy Link',
    'personal-information': 'Personal Information',
    'first-name': 'First Name',
    'last-name': 'Last Name',
    'email': 'Email',
    'age': 'Age',
    'nationality': 'Nationality',
    'paper-status': 'Paper Status (DNI/NIE/Pasaporte)',
    'additional-information': 'Additional Information',
    'description-label': 'Description',
    'work-background': 'Work Background',
    'progress-engagement': 'Progress & Engagement',
    'modules-viewed': 'Modules Viewed',
    'sections-completed': 'Sections Completed',
    'last-accessed': 'Last Accessed',
    'teacher-notes': 'Teacher Notes',
    'save-all-changes': 'Save All Changes',
    'close': 'Close',
    'not-accessed': 'Not accessed',
    'sign-in': 'Sign in to your account',
    'i-am-a': 'I am a:',
    'teacher': 'Teacher',
    'admin': 'Admin',
    'email-address': 'Email Address',
    'password': 'Password',
    'your-assigned-password': 'Use your assigned password',
    'demo-credentials': 'Demo Credentials',
    'students-access': 'Students access promotions via password link, not login credentials.',
    'enter-promotion-password': 'Enter Promotion Password',
    'password-required': 'This promotion requires a password to access.',
    'verify': 'Verify',
  },
  es: {
    'dashboard': 'Panel de Control',
    'overview': 'Descripción General',
    'roadmap': 'Hoja de Ruta',
    'quick-links': 'Enlaces Rápidos',
    'calendar': 'Calendario',
    'sections': 'Secciones',
    'students': 'Estudiantes',
    'access-settings': 'Configuración de Acceso',
    'collaborators': 'Colaboradores',
    'program-info': 'Información del Programa',
    'logout': 'Cerrar Sesión',
    'bootcamp-manager': 'Gestor de Bootcamp',
    'promotions': 'Promociones',
    'new-promotion': 'Nueva Promoción',
    'no-promotions': 'Sin promociones aún. Crea una para empezar!',
    'teacher-name-label': 'Nombre del Profesor',
    'bootcamp-template': 'Plantilla de Bootcamp (Opcional)',
    'select-template': '-- Selecciona una plantilla para empezar --',
    'ia-bootcamp': 'Bootcamp IA (39 semanas)',
    'fullstack-bootcamp': 'Bootcamp Full Stack (24 semanas)',
    'cybersecurity-bootcamp': 'Bootcamp Ciberseguridad (20 semanas)',
    'datascience-bootcamp': 'Bootcamp Data Science (30 semanas)',
    'frontend-bootcamp': 'Bootcamp Frontend (16 semanas)',
    'backend-bootcamp': 'Bootcamp Backend (20 semanas)',
    'template-help': 'Seleccionar una plantilla rellenará automáticamente las semanas.',
    'promotion-name': 'Nombre de la Promoción',
    'description': 'Descripción',
    'number-of-weeks': 'Número de Semanas',
    'start-date': 'Fecha de Inicio',
    'end-date': 'Fecha de Fin',
    'cancel': 'Cancelar',
    'create-promotion': 'Crear Promoción',
    'program-information': 'Información del Programa',
    'duration': 'Duración',
    'statistics': 'Estadísticas',
    'modules': 'Módulos',
    'weeks': 'semanas',
    'preview': 'Previsualizar',
    'add-module': 'Añadir Módulo',
    'add-link': 'Añadir Enlace',
    'add-section': 'Añadir Sección',
    'add-student': 'Añadir Estudiante',
    'add-teacher': 'Añadir Profesor',
    'student-access-password': 'Contraseña de Acceso del Estudiante',
    'password-description': 'Establece una contraseña que los estudiantes deben ingresar.',
    'access-password-label': 'Contraseña de Acceso',
    'password-help': 'Déjalo vacío para eliminar la protección',
    'update-password': 'Actualizar Contraseña',
    'share-with-students': 'Compartir con Estudiantes',
    'share-description': 'Una vez que establezca una contraseña, los estudiantes pueden acceder usando este enlace:',
    'copy-link': 'Copiar Enlace',
    'personal-information': 'Información Personal',
    'first-name': 'Nombre',
    'last-name': 'Apellido',
    'email': 'Correo Electrónico',
    'age': 'Edad',
    'nationality': 'Nacionalidad',
    'paper-status': 'Estado del Documento (DNI/NIE/Pasaporte)',
    'additional-information': 'Información Adicional',
    'description-label': 'Descripción',
    'work-background': 'Antecedentes Laborales',
    'progress-engagement': 'Progreso y Participación',
    'modules-viewed': 'Módulos Vistos',
    'sections-completed': 'Secciones Completadas',
    'last-accessed': 'Último Acceso',
    'teacher-notes': 'Notas del Profesor',
    'save-all-changes': 'Guardar Todos los Cambios',
    'close': 'Cerrar',
    'not-accessed': 'No accedido',
    'sign-in': 'Inicia sesión en tu cuenta',
    'i-am-a': 'Yo soy:',
    'teacher': 'Profesor',
    'admin': 'Administrador',
    'email-address': 'Correo Electrónico',
    'password': 'Contraseña',
    'your-assigned-password': 'Usa tu contraseña asignada',
    'demo-credentials': 'Credenciales de Demostración',
    'students-access': 'Los estudiantes acceden mediante enlace de contraseña.',
    'enter-promotion-password': 'Ingresar Contraseña de Promoción',
    'password-required': 'Esta promoción requiere una contraseña para acceder.',
    'verify': 'Verificar',
  }
};

function getCurrentLanguage() {
  return localStorage.getItem('appLanguage') || 'en';
}

function setLanguage(lang) {
  localStorage.setItem('appLanguage', lang);
  applyTranslations();
}

function t(key) {
  const lang = getCurrentLanguage();
  return translations[lang]?.[key] || translations.en[key] || key;
}

function applyTranslations() {
  document.querySelectorAll('[data-i18n]').forEach(function(element) {
    const key = element.getAttribute('data-i18n');
    const translated = t(key);
    
    if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
      element.placeholder = translated;
    } else {
      element.textContent = translated;
    }
  });

  const langSwitcher = document.querySelector('[data-current-lang]');
  if (langSwitcher) {
    langSwitcher.textContent = getCurrentLanguage().toUpperCase();
  }
}

document.addEventListener('DOMContentLoaded', function() {
  applyTranslations();
});
